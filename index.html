<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Demo 2 nút ON/OFF</title>
<style>
  body { font-family: sans-serif; text-align: center; margin-top: 50px; background: #f0f0f0; }
  button { font-size: 24px; padding: 20px 50px; margin: 20px; border: none; border-radius: 10px; cursor: pointer; }
  #btn-on { background-color: #22c55e; color: white; }
  #btn-off { background-color: #ef4444; color: white; }
  #status { font-size: 28px; margin-top: 30px; }
</style>
</head>
<body>

<h1>Demo 2 nút ON/OFF ESP</h1>

<button id="btn-on">ON</button>
<button id="btn-off">OFF</button>

<div id="status">Trạng thái: OFF</div>

<script>
const WORKER_URL = 'https://blynk-token-proxy.tanthanhlttb123.workers.dev';
const VIRTUAL_PIN = 'V1';

function sendCommand(state) {
    fetch(`${WORKER_URL}?pin=${VIRTUAL_PIN}&value=${state ? 1 : 0}`)
        .then(res => res.json())
        .then(data => {
            console.log('ESP phản hồi:', data);
            document.getElementById('status').innerText = 'Trạng thái: ' + (state ? 'ON' : 'OFF');
        })
        .catch(err => console.error('Lỗi gửi lệnh:', err));
}

document.getElementById('btn-on').addEventListener('click', () => sendCommand(true));
document.getElementById('btn-off').addEventListener('click', () => sendCommand(false));
</script>

</body>
</html>



